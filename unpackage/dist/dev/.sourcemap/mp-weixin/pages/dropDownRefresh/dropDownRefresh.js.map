{"version":3,"sources":["webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/main.js","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue?1fb7","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue?4688","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue?f919","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue?da1f","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue?9f12","webpack:////Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue?ba22"],"names":["Page","App","data","user_id","user_token","goods_list","reachBottom","isLoad","page","pageSize","onShow","vm","uni","getStorageSync","redirectTo","url","getAjax","onPullDownRefresh","onReachBottom","methods","btnRegain","action","showLoading","title","request","method","dateUtils","baseUrl","p","num","supplier_id","header","success","res","forEach","item","push","length","e","console","log","stopPullDownRefresh","hideLoading","fail","err"],"mappings":"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","file":"pages/dropDownRefresh/dropDownRefresh.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/dropDownRefresh/dropDownRefresh.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./dropDownRefresh.vue?vue&type=template&id=5a4ee3e9&\"\nimport script from \"./dropDownRefresh.vue?vue&type=script&lang=js&\"\nexport * from \"./dropDownRefresh.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dropDownRefresh.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5a4ee3e9', component.options)\n    } else {\n      api.reload('5a4ee3e9', component.options)\n    }\n    module.hot.accept(\"./dropDownRefresh.vue?vue&type=template&id=5a4ee3e9&\", function () {\n      api.rerender('5a4ee3e9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/apple/工作使用文件/xcx/subgroup-uni-app/pages/dropDownRefresh/dropDownRefresh.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./dropDownRefresh.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./dropDownRefresh.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./dropDownRefresh.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./dropDownRefresh.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./dropDownRefresh.vue?vue&type=template&id=5a4ee3e9&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { dateUtils } from \"@/common/util.js\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuser_id: '',\n\t\t\tuser_token: '',\n\t\t\t\n\t\t\tgoods_list: [],//接口返回的数据\n\t\t\treachBottom: {\n\t\t\t\tisLoad: true,//滑动到底部后是否可以继续加载\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 8,\n\t\t\t},\n\t\t};\n\t},\n\t\n\t\n\t\n\tonShow() {\n\t\tconst vm = this;\n\t\t// 这里只是判断当前用户有没有登录\n\t\tvm.user_id = uni.getStorageSync('user_id');\n\t\tvm.user_token = uni.getStorageSync('user_token');\n\t\tif(!vm.user_id && !vm.user_token){\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '../login/login',\n\t\t\t});\n\t\t} else {\n\t\t\t//上来先加载第一页\n\t\t\tvm.getAjax('refresh');\n\t\t};\n\t},\n\t///////////////onPullDownRefresh 是下拉刷新使用的\n\tonPullDownRefresh(){\n\t\tconst vm = this;\n\t\tvm.getAjax('refresh');\n\t},\n\t//////////////onReachBottom是上拉加载需要的\n\tonReachBottom() {\n\t\tconst vm = this;\n\t\tif(vm.reachBottom.isLoad){\n\t\t\tvm.getAjax('add');\n\t\t};\n\t},\n\tmethods: {\n\t\tbtnRegain(){\n\t\t\tconst vm = this;\n\t\t\t//从第一页进行加载\n\t\t\tvm.getAjax('refresh');\n\t\t},\n\t\t\n\t\t//action == add  上拉加载更多   action == refresh 不需要上拉加载更多。从第一页进行加载\n\t\tgetAjax(action = 'add'){\n\t\t\tconst vm = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\n\t\t\tif (action === 'refresh') {\n\t\t\t\tvm.reachBottom.page = 1;\n\t\t\t};\n\t\t\t//注意看下自己的是post还是get请求。\n\t\t\t//特别注意：get请求可以不添加请求头。但是post请求必须添加下面请求头。（添加原因查看uni-app官网在request方法解释的最下面）\n\t\t\tuni.request({\n\t\t\t\tmethod:\"POST\",\n\t\t\t\turl: dateUtils.baseUrl+'Service/Goods/searchGoodsOpen?user_id='+vm.user_id+'&user_token='+vm.user_token+'&device=wap',\n\t\t\t\tdata: {\n\t\t\t\t\tp: vm.reachBottom.page,//当前页数  使用这个值需要和后台确认是否有效\n\t\t\t\t\tnum: vm.reachBottom.pageSize,//每页返回几个  使用这个值需要和后台确认是否有效\n\t\t\t\t\t\n\t\t\t\t\t//下面为我示例接口使用的参数\n\t\t\t\t\tsupplier_id: 0,\n\t\t\t\t\tuser_id: vm.user_id,\n\t\t\t\t\tuser_token: vm.user_token,\n\t\t\t\t},\n\t\t\t\theader: {'content-type': 'application/x-www-form-urlencoded'},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (action === 'refresh') {\t\n\t\t\t\t\t\tvm.goods_list = [];\n\t\t\t\t\t};\n\t\t\t\t\ttry {\n\t\t\t\t\t\t//res.data.data.data.goods_list  这里需要根据实际接口返回的数据来进行修改\n\t\t\t\t\t\tres.data.data.data.goods_list.forEach(item=>{\n\t\t\t\t\t\t\tvm.goods_list.push(item);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t//这里是通过res.data.data.data.goods_list 返回数据的长度来判断当前是不是到了最后一页了\n\t\t\t\t\t\tif(res.data.data.data.goods_list.length < vm.reachBottom.pageSize){\n\t\t\t\t\t\t\tvm.reachBottom.isLoad=false;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tvm.reachBottom.isLoad=true;\n\t\t\t\t\t\t\tvm.reachBottom.page++;\n\t\t\t\t\t\t};\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\t\tconsole.log('数据接口错误');\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t},\n\t\t\t\tfail:(err) => {\n\t\t\t\t\tconsole.log(\"err\",err);\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t},\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"content\" },\n    [\n      _c(\"view\", { staticClass: \"loding\" }, [_vm._v(\"下拉刷新\")]),\n      _c(\n        \"view\",\n        {\n          staticClass: \"btn\",\n          staticStyle: { \"margin-bottom\": \"50rpx\" },\n          attrs: { eventid: \"5714b893-0\" },\n          on: { click: _vm.btnRegain }\n        },\n        [_vm._v(\"从第一页进行加载\")]\n      ),\n      _vm._l(_vm.goods_list, function(item, nub) {\n        return _c(\n          \"view\",\n          {\n            key: nub,\n            staticClass: \"size\",\n            staticStyle: { \"margin-bottom\": \"50rpx\" }\n          },\n          [\n            _c(\"view\", { staticClass: \"clr\" }, [\n              _vm._v(\"第\" + _vm._s(nub + 1) + \"个商品\")\n            ]),\n            _vm._v(_vm._s(item.goods_short_name)),\n            _c(\"br\"),\n            _vm._v(_vm._s(item.attr_str)),\n            _c(\"br\"),\n            _vm._v(_vm._s(item.act_sign)),\n            _c(\"br\")\n          ],\n          1\n        )\n      })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}